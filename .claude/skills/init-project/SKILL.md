---
name: init-project
description: 基于用户的一句话提示词初始化 SyncMind 项目，提取项目/方案名称、客户名称等信息，并根据意图自动调用相应的 skill（profile、plan-writer、init-app）
metadata:
  short-description: 智能解析用户提示词并初始化项目
---

# SyncMind 项目初始化 Skill

这个 skill 用于基于用户的一句话提示词，智能解析并初始化 SyncMind 项目。它会提取关键信息（项目名称、方案名称、客户名称等），并根据用户意图自动调用相应的 skill。

## 功能

当用户提供一句话提示词时，使用此 skill 来：

1. 解析用户提示词，提取关键信息
2. 识别用户意图（客户资料收集、方案制定、应用生成等）
3. 根据意图自动调用相应的 skill：
   - **profile skill**：涉及客户资料收集时调用
   - **plan-writer skill**：涉及方案相关时调用
   - **init-app skill**：基于方案生成应用时调用

## 提取的信息

从用户提示词中提取以下信息：

- **项目名称**：项目的名称或标识
- **方案名称**：方案或计划的名称
- **客户名称**：客户公司或个人的名称
- **其他关键信息**：需求描述、技术栈、功能要求等

## 项目信息 `docs/about.md` 文档格式：

**必须在文档开头添加 metadata 信息**（YAML frontmatter），包含项目名称、客户名称、创建日期等字段

```markdown
---
name: [项目名称]
description: [项目描述]
metadata:
  customer: [客户名称，如存在]
  created: [创建日期]
---

# 项目信息

[项目描述，包含项目名称、客户信息、主要功能等]
```

## 意图识别规则

### 1. 客户资料相关意图

触发条件（关键词）：
- "客户"、"客户资料"、"客户档案"、"客户信息"
- "为 [客户名] 创建"、"初始化客户"
- "收集客户信息"、"建立客户档案"

**处理方式**：
- 提取客户名称
- 调用 **profile skill** 生成客户档案

### 2. 方案相关意图

触发条件（关键词）：
- "方案"、"计划"、"规划"、"设计"
- "制定方案"、"创建方案"、"方案文档"
- "为 [项目名] 制定方案"

**处理方式**：
- 提取项目/方案名称
- 调用 **plan-writer skill** 生成方案文档

### 3. 应用生成意图

触发条件（关键词）：
- "生成 app"、"创建 demo"、"搭建 website"、"开发应用"
- "基于方案生成"、"根据方案创建"
- "app"、"demo"、"website"、"网站"、"应用"

**处理方式**：
- 提取项目名称
- 如果涉及方案，先调用 **plan-writer skill**
- 然后调用 **init-app skill** 生成应用

## 工作流程

当用户提供一句话提示词时，按以下步骤执行：

1. **解析提示词并更新项目信息**：
   - 分析用户输入的完整提示词，识别关键词和意图
   - 提取信息：
     - 提取客户名称（如果存在）
     - 提取项目/方案名称（如果存在）
     - 提取项目类型和需求描述（如果存在）
   - 根据提取的信息 **更新或创建 `docs/about.md`**

2. **意图判断**：
   - 根据关键词判断用户意图
   - 确定需要调用的 skill（可能多个）

3. **调用相应 skill**：
   
   **如果涉及客户资料收集**：
   - 调用 **profile skill**（读取 profile skill 的 SKILL.md 并按照其工作流程执行）
   - 生成 `docs/customer/profile.json`
   
   **如果涉及方案相关**：
   - 调用 **plan-writer skill**（读取 plan-writer skill 的 SKILL.md 并按照其工作流程执行）
   - 生成方案文档到 `docs/plan/` 目录
   
   **如果涉及应用生成**：
   - 如果涉及方案，先调用 **plan-writer skill** 生成方案
   - 调用 **init-app skill**（读取 init-app skill 的 SKILL.md 并按照其工作流程执行）
   - 生成应用代码到相应目录

4. **执行顺序**：
   - 如果同时涉及多个意图，按以下顺序执行：
     1. 客户资料收集（profile）
     2. 方案制定（plan-writer）
     3. 应用生成（init-app）

5. **结果汇总**：
   - 汇总所有执行结果
   - 告知用户已完成的操作
   - 说明生成的文件位置

## 示例

### 示例 1：客户资料收集
用户说："为阿里巴巴初始化客户档案"

1. **解析并更新项目信息**：识别到"客户档案"关键词，提取客户名称"阿里巴巴"，更新 `docs/about.md`
2. **意图判断**：客户资料收集
3. **调用 skill**：调用 profile skill，生成 `docs/customer/profile.json`
4. **结果汇总**：已生成客户档案

### 示例 2：方案制定
用户说："为电商平台项目制定方案"

1. **解析并更新项目信息**：识别到"方案"关键词，提取项目名称"电商平台项目"，更新 `docs/about.md`
2. **意图判断**：方案制定
3. **调用 skill**：调用 plan-writer skill，生成方案文档到 `docs/plan/` 目录
4. **结果汇总**：已生成方案文档

### 示例 3：应用生成
用户说："基于客户管理方案生成一个 demo"

1. **解析并更新项目信息**：识别到"生成 demo"关键词，提取项目信息，更新 `docs/about.md`
2. **意图判断**：应用生成（涉及方案）
3. **调用 skill**：
   - 先调用 plan-writer skill 生成方案
   - 然后调用 init-app skill 生成应用代码
4. **结果汇总**：已生成方案和应用代码

### 示例 4：复合意图
用户说："为腾讯创建客户档案，然后制定一个 CRM 系统方案，最后生成一个 demo"

1. **解析并更新项目信息**：识别到多个意图，提取客户名称"腾讯"、项目名称"CRM 系统"等信息，更新 `docs/about.md`
2. **意图判断**：客户资料收集、方案制定、应用生成
3. **调用 skill**（按执行顺序）：
   - 调用 profile skill（客户：腾讯）
   - 调用 plan-writer skill（方案：CRM 系统）
   - 调用 init-app skill（生成 demo）
4. **结果汇总**：已生成客户档案、方案文档和应用代码

## 注意事项

- **意图识别**：
  - 仔细分析用户提示词，准确识别意图
  - 如果意图不明确，询问用户澄清
  - 支持多种表达方式，灵活匹配关键词

- **信息提取**：
  - 尽可能从提示词中提取完整信息
  - 如果信息不足，在调用其他 skill 时使用合理推断
  - 不要编造不存在的信息

- **执行顺序**：
  - 按照依赖关系确定执行顺序
  - 确保前置步骤完成后再执行后续步骤
  - 如果某个步骤失败，告知用户并询问是否继续

- **错误处理**：
  - 如果无法识别意图，询问用户澄清
  - 如果信息提取不完整，在调用其他 skill 时说明情况
  - 如果 skill 调用失败，提供错误信息和解决建议
